<div class="container">
    <div class="row" id="conteudo">
        <div class="row valign-wrapper">
            <div class="col s12">
                <form>
                    <div class="input-field">
                        <i class="material-icons prefix">search</i>
                        <input id="search" onkeyup="Buscando()" type="text" placeholder="Buscar...">
                    </div>
                </form>
            </div>            
        </div>
        <div class="row">
            <div class="col s2 offset-s10">
                <a class="waves-effect waves-light btn" id="botaoExportar" onClick="exportarRelatorio()">Exportar</a>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <table class="striped" id="tabela">
                    <thead>
                        <tr>
                            <th>Material</th>
                            <th class="center-align">Média</th>
                        </tr>
                    </thead>

                    <tbody>
                      <tr>
                        <td>Material 1</td>
                        <td class="center-align">3</td>
                      </tr>
                      <tr>
                        <td>Material 2</td>
                        <td class="center-align">3</td>
                      </tr>
                    </tbody>
                </table>
            </div>            
        </div>
    </div>
    
    <script>
        $(document).ready(function(){
          $.get('mediasConsumo', (data) => {
            if (data.length === 0) {
              const conteudo = '<h4>Não há dados para exibir.</h4>';
              $('#conteudo').html(conteudo);
            } else {
              //preencher tabela
            }
          });
        });
      
      function exportarRelatorio() {
        //exportar relatório
        let doc = new jsPDF('p', 'pt');
        const elem = document.getElementById("tabela");
        const res = doc.autoTableHtmlToJson(elem);
        const texto = "Médias de Consumo";
        doc.text(20, 20, texto);
        doc.autoTable(res.columns, res.data, {
          styles: {
            halign: 'center'
          }
        });
        doc.save("Relatorio_Médias_de_Consumo.pdf");
      }
    </script>
</div>